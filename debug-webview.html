<!DOCTYPE html>
<html lang="zh-CN">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Prompt Pilot Debug - WebView</title>
	<link rel="stylesheet" href="./media/main.css">
</head>

<body>
	<div class="container">
		<header>
			<h1>ğŸš€ Prompt Pilot</h1>
			<p>æå‡å›¢é˜Ÿ Prompt èƒ½åŠ›çš„ VSCode æ’ä»¶</p>
		</header>

		<div class="main-content">
			<!-- ä¾§è¾¹æ  -->
			<div class="sidebar">
				<div class="problem-selector">
					<h3>ğŸ“š é¢˜ç›®åˆ—è¡¨</h3>
					<div class="problem-list" id="problemList">
						<!-- é¢˜ç›®åˆ—è¡¨å°†åŠ¨æ€ç”Ÿæˆ -->
						<div class="problem-item active" data-problem-id="1">
							<div class="title">ä¸¤æ•°ä¹‹å’Œ</div>
							<div class="difficulty Easy">Easy</div>
							<div class="category">Array</div>
						</div>
						<div class="problem-item" data-problem-id="2">
							<div class="title">åè½¬é“¾è¡¨</div>
							<div class="difficulty Medium">Medium</div>
							<div class="category">Linked List</div>
						</div>
					</div>
				</div>
			</div>

			<!-- å†…å®¹åŒºåŸŸ -->
			<div class="content-area">
				<!-- æ¬¢è¿å±å¹• -->
				<div id="welcomeScreen" class="welcome-screen" style="display: none;">
					<div class="welcome-content">
						<h2>ğŸ¯ é€‰æ‹©ä¸€ä¸ªé¢˜ç›®å¼€å§‹</h2>
						<p>ä»å·¦ä¾§é€‰æ‹©ä¸€ä¸ªç¼–ç¨‹é¢˜ç›®ï¼Œå¼€å§‹ä½ çš„ Prompt ç»ƒä¹ ä¹‹æ—…</p>
					</div>
				</div>

				<!-- é—®é¢˜è¯¦æƒ… -->
				<div id="problemDetails" class="problem-details">
					<div class="problem-header">
						<h2 id="problemTitle">ä¸¤æ•°ä¹‹å’Œ</h2>
						<span id="problemDifficulty" class="difficulty Easy">Easy</span>
					</div>

					<div class="problem-description" id="problemDescription">
						ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ nums å’Œä¸€ä¸ªæ•´æ•°ç›®æ ‡å€¼ targetï¼Œè¯·ä½ åœ¨è¯¥æ•°ç»„ä¸­æ‰¾å‡ºå’Œä¸ºç›®æ ‡å€¼çš„é‚£ä¸¤ä¸ªæ•´æ•°ï¼Œå¹¶è¿”å›å®ƒä»¬çš„æ•°ç»„ä¸‹æ ‡ã€‚
					</div>

					<!-- Prompt è¾“å…¥åŒºåŸŸ -->
					<div class="prompt-section">
						<h3>âœï¸ ç¼–å†™ä½ çš„ Prompt</h3>
						<div class="prompt-tips">
							<p>ğŸ’¡ æç¤ºï¼šå¥½çš„ Prompt åº”è¯¥æ¸…æ™°æè¿°é—®é¢˜ã€åŒ…å«ç¤ºä¾‹ã€æŒ‡å®šè¾“å‡ºæ ¼å¼</p>
						</div>
						<textarea id="promptInput"
							placeholder="è¯·è¾“å…¥ä½ çš„ Prompt...&#10;&#10;ä¾‹å¦‚ï¼š&#10;è¯·å¸®æˆ‘è§£å†³è¿™ä¸ªç®—æ³•é—®é¢˜..."></textarea>
						<div class="prompt-actions">
							<button class="btn primary" id="generateCodeBtn">ğŸš€ ç”Ÿæˆä»£ç </button>
							<button class="btn secondary" id="analyzePromptBtn">ğŸ” åˆ†æ Prompt</button>
						</div>
					</div>

					<!-- Prompt åˆ†æç»“æœ -->
					<div id="promptAnalysis" class="prompt-analysis" style="display: none;">
						<!-- åˆ†æç»“æœå°†åœ¨è¿™é‡Œæ˜¾ç¤º -->
					</div>

					<!-- ä»£ç ç”ŸæˆåŒºåŸŸ -->
					<div id="codeSection" class="code-section" style="display: none;">
						<h3>ğŸ’» ç”Ÿæˆçš„ä»£ç </h3>
						<div class="code-container">
							<pre><code id="generatedCode">// ä»£ç å°†åœ¨è¿™é‡Œæ˜¾ç¤º</code></pre>
						</div>
						<div class="code-actions">
							<button class="btn primary" id="runTestsBtn">ğŸ§ª è¿è¡Œæµ‹è¯•</button>
							<button class="btn secondary" id="acceptCodeBtn">âœ… æ¥å—ä»£ç </button>
						</div>
					</div>

					<!-- ä»£ç è¯´æ˜ -->
					<div id="explanation" class="explanation" style="display: none;">
						<!-- ä»£ç è¯´æ˜å°†åœ¨è¿™é‡Œæ˜¾ç¤º -->
					</div>

					<!-- æµ‹è¯•ç»“æœåŒºåŸŸ -->
					<div id="testSection" class="test-section" style="display: none;">
						<h3>ğŸ§ª æµ‹è¯•ç»“æœ</h3>
						<div id="testResults" class="test-results">
							<!-- æµ‹è¯•ç»“æœå°†åœ¨è¿™é‡Œæ˜¾ç¤º -->
						</div>
					</div>

					<!-- æç¤ºåŒºåŸŸ -->
					<div class="hints-section">
						<h3>ğŸ’¡ æç¤º</h3>
						<div class="hints" id="problemHints">
							<ul>
								<li>å¯ä»¥ä½¿ç”¨å“ˆå¸Œè¡¨æ¥é™ä½æ—¶é—´å¤æ‚åº¦</li>
								<li>éå†æ•°ç»„æ—¶ï¼Œæ£€æŸ¥ç›®æ ‡å€¼å‡å»å½“å‰å…ƒç´ çš„å€¼æ˜¯å¦å­˜åœ¨äºå“ˆå¸Œè¡¨ä¸­</li>
								<li>æ³¨æ„å¤„ç†é‡å¤å…ƒç´ çš„æƒ…å†µ</li>
							</ul>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>

	<!-- åŠ è½½é®ç½© -->
	<div id="loadingOverlay" class="loading-overlay" style="display: none;">
		<div class="loading-spinner"></div>
		<div id="loadingMessage">åŠ è½½ä¸­...</div>
	</div>

	<!-- é”™è¯¯æ¶ˆæ¯ -->
	<div id="errorMessage" class="error-message" style="display: none;">
		é”™è¯¯æ¶ˆæ¯å°†åœ¨è¿™é‡Œæ˜¾ç¤º
	</div>

	<!-- æ¨¡æ‹ŸVSCode API -->
	<script>
		// æ¨¡æ‹Ÿ vscode API ç”¨äºè°ƒè¯•
		window.acquireVsCodeApi = () => ({
			postMessage: (message) => {
				console.log('ğŸ“¤ å‘é€æ¶ˆæ¯åˆ°æ‰©å±•:', message);

				// æ¨¡æ‹Ÿæ‰©å±•å“åº”
				setTimeout(() => {
					switch (message.command) {
						case 'loadProblems':
							window.postMessage({
								command: 'problemsLoaded',
								problems: [
									{ id: '1', title: 'ä¸¤æ•°ä¹‹å’Œ', difficulty: 'Easy', category: 'Array' },
									{ id: '2', title: 'åè½¬é“¾è¡¨', difficulty: 'Medium', category: 'Linked List' }
								]
							});
							break;
						case 'loadProblem':
							window.postMessage({
								command: 'problemLoaded',
								problem: {
									id: message.problemId,
									title: 'ä¸¤æ•°ä¹‹å’Œ',
									difficulty: 'Easy',
									description: 'ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ nums å’Œä¸€ä¸ªæ•´æ•°ç›®æ ‡å€¼ targetï¼Œè¯·ä½ åœ¨è¯¥æ•°ç»„ä¸­æ‰¾å‡ºå’Œä¸ºç›®æ ‡å€¼çš„é‚£ä¸¤ä¸ªæ•´æ•°ï¼Œå¹¶è¿”å›å®ƒä»¬çš„æ•°ç»„ä¸‹æ ‡ã€‚',
									hints: [
										'å¯ä»¥ä½¿ç”¨å“ˆå¸Œè¡¨æ¥é™ä½æ—¶é—´å¤æ‚åº¦',
										'éå†æ•°ç»„æ—¶ï¼Œæ£€æŸ¥ç›®æ ‡å€¼å‡å»å½“å‰å…ƒç´ çš„å€¼æ˜¯å¦å­˜åœ¨äºå“ˆå¸Œè¡¨ä¸­',
										'æ³¨æ„å¤„ç†é‡å¤å…ƒç´ çš„æƒ…å†µ'
									]
								}
							});
							break;
						case 'generateCode':
							window.postMessage({
								command: 'codeGenerated',
								response: {
									success: true,
									generatedCode: `function twoSum(nums, target) {
    const map = new Map();
    for (let i = 0; i < nums.length; i++) {
        const complement = target - nums[i];
        if (map.has(complement)) {
            return [map.get(complement), i];
        }
        map.set(nums[i], i);
    }
    return [];
}`,
									explanation: 'ä½¿ç”¨å“ˆå¸Œè¡¨å­˜å‚¨å·²éå†çš„å…ƒç´ åŠå…¶ç´¢å¼•ï¼Œå½“æ‰¾åˆ°ç›®æ ‡å€¼çš„è¡¥æ•°æ—¶è¿”å›ç»“æœã€‚'
								}
							});
							break;
					}
				}, 1000);
			}
		});
	</script>

	<!-- åŠ è½½ä¸»è¦çš„ JavaScript æ–‡ä»¶ -->
	<script src="./media/main.js"></script>

	<script>
		// è°ƒè¯•ä¿¡æ¯
		console.log('ğŸ”§ è°ƒè¯•æ¨¡å¼å¯åŠ¨');
		console.log('ğŸ“ å½“å‰URL:', window.location.href);
		console.log('ğŸŒ User Agent:', navigator.userAgent);

		// æ·»åŠ é¢å¤–çš„è°ƒè¯•ä¿¡æ¯
		window.addEventListener('load', function () {
			console.log('âœ… é¡µé¢å®Œå…¨åŠ è½½');
			console.log('ğŸ“Š DOMå…ƒç´ æ•°é‡:', document.querySelectorAll('*').length);
		});
	</script>
</body>

</html>