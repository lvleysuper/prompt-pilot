# 🧪 独立配置页面 - 快速测试指南

## 🎯 立即测试新功能

### 第一步：启动调试
```bash
# 在 VSCode 中按 F5 启动插件调试
# 等待 Extension Development Host 窗口打开
```

### 第二步：验证精简后的快捷操作
1. **检查侧边栏精简功能**：
   - 点击左侧活动栏的 🚀 Prompt Pilot 图标
   - 在"快速操作"区域确认只有以下4个操作：
     - **🚀 打开主面板**
     - **🎯 选择题目** 
     - **🏆 TOP3 Prompts**
     - **⚙️ 配置面板**
   - 确认已移除：~~配置 API~~、~~验证 API~~、~~API 状态~~

2. **检查命令面板精简**：
   - 按 `Ctrl + Shift + P`
   - 输入 "Prompt Pilot"
   - 确认主要命令仍然可用，但通过配置面板统一管理

### 第三步：测试独立配置页面
1. **启动配置页面**：
   - 点击侧边栏的 **⚙️ 配置面板** 按钮
   - 或使用命令 `Prompt Pilot: 打开配置面板`

2. **验证页面加载**：
   - 应该打开一个新的 WebView 标签页
   - 标题显示"Prompt Pilot 配置"
   - 页面显示"🚀 Prompt Pilot 配置"标题

### 第四步：验证提供商选择
确认页面显示 7 个提供商选项：

- ✅ **🌐 OpenAI**：使用 OpenAI 官方 API 服务
- ✅ **☁️ Azure OpenAI**：使用 Microsoft Azure OpenAI 服务  
- ✅ **🇨🇳 阿里云通义千问**：使用阿里云通义千问模型服务
- ✅ **🌙 月之暗面 Kimi**：使用月之暗面 Kimi 模型服务
- ✅ **🤖 智谱 GLM**：使用智谱 GLM 模型服务
- ✅ **🌊 百川智能**：使用百川智能模型服务
- ✅ **🔧 自定义部署**：使用自己部署的模型服务

### 第五步：测试配置区域切换
1. **点击不同提供商**：
   - 依次点击每个提供商选项
   - 确认选中状态正确显示
   - 确认配置区域正确切换

2. **验证配置表单**：
   
   **OpenAI 配置**：
   - API 密钥输入框（密码类型）
   - 模型选择下拉菜单
   - 基础 URL 输入框

   **阿里云配置**：
   - API 密钥输入框
   - **API 基础 URL 输入框**（新增）
   - 模型选择下拉菜单（qwen-turbo, qwen-plus 等）

   **月之暗面配置**：
   - API 密钥输入框
   - **API 基础 URL 输入框**（新增）
   - 模型选择下拉菜单（moonshot-v1-8k 等）

   **智谱配置**：
   - API 密钥输入框
   - **API 基础 URL 输入框**（新增）
   - 模型选择下拉菜单（glm-4, glm-4v 等）

   **百川配置**：
   - API 密钥输入框
   - **API 基础 URL 输入框**（新增）
   - 模型选择下拉菜单（Baichuan2-Turbo 等）

   **自定义配置**：
   - 服务地址输入框
   - API 密钥输入框（可选）
   - 模型名称输入框
   - API 格式选择下拉菜单

### 第六步：测试高级设置
确认高级设置区域包含：
- ✅ **最大令牌数**：数字输入，默认 2048
- ✅ **温度参数**：数字输入，默认 0.7
- ✅ **超时时间**：数字输入，默认 30000ms
- ✅ **重试次数**：数字输入，默认 3
- ✅ **启用调试日志**：复选框，默认关闭

### 第七步：测试操作按钮
确认底部操作按钮：
- ✅ **🧪 测试连接**：点击有响应
- ✅ **✅ 验证配置**：点击有响应  
- ✅ **💾 保存配置**：点击有响应
- ✅ **🔄 重置配置**：点击有确认对话框

### 第八步：测试表单验证
1. **输入验证**：
   - OpenAI API 密钥：输入不以"sk-"开头的值，失焦后应显示错误
   - URL 格式：输入无效 URL，应显示格式错误
   - 必填项：清空必填字段，应显示验证错误

2. **保存测试**：
   - 选择 OpenAI，输入测试数据
   - 点击"💾 保存配置"
   - 应显示保存成功消息

### 第九步：测试配置持久化
1. **设置检查**：
   - 保存配置后，按 `Ctrl + ,` 打开设置
   - 搜索 "prompt-pilot"
   - 确认新的配置项已保存

2. **配置重载**：
   - 关闭配置页面
   - 重新打开配置页面
   - 确认之前的配置正确加载

### 第十步：测试集成功能
1. **模式切换测试**：
   - 有有效配置时：主面板应显示真实模式
   - 无配置时：主面板应显示模拟模式
   - 配置更改后：模式应自动切换

2. **代码生成测试**：
   - 在主面板选择一个题目
   - 输入 Prompt 并生成代码
   - 确认使用正确的 API 配置

## ⚡ 快速验证清单

### ✅ 基础功能（5分钟）
- [ ] 独立配置页面能正常打开
- [ ] 7个提供商选项都正确显示
- [ ] 配置区域能正确切换
- [ ] 所有表单字段都可编辑

### ✅ 高级功能（10分钟）  
- [ ] 表单验证正常工作
- [ ] 配置能正确保存和加载
- [ ] 操作按钮都有响应
- [ ] 错误处理友好显示

### ✅ 集成测试（10分钟）
- [ ] 配置更改后服务自动刷新
- [ ] 主面板模式切换正确
- [ ] 代码生成使用正确配置
- [ ] 设置页面同步更新

## 🐛 常见问题排查

### 问题1：配置页面无法打开
**排查步骤**：
- 检查调试控制台是否有错误
- 确认 ConfigPanel.ts 正确编译
- 重新启动调试进程

### 问题2：提供商选择无响应
**排查步骤**：
- 检查 config.js 是否正确加载
- 确认事件监听器正确绑定
- 查看浏览器开发者工具控制台

### 问题3：配置无法保存
**排查步骤**：
- 检查 updateConfig 方法是否正确实现
- 确认配置项名称与 package.json 匹配
- 查看输出面板的错误信息

### 问题4：样式显示异常
**排查步骤**：
- 确认 config.css 文件存在
- 检查 WebView CSP 设置
- 验证 CSS 文件路径正确

## 📊 预期结果

### 成功指标
- ✅ 独立配置页面完美运行
- ✅ 7个提供商全部可选择和配置
- ✅ 表单验证准确有效
- ✅ 配置保存和加载无误
- ✅ 与主功能集成良好

### 性能表现
- ⚡ 配置页面打开 < 2秒
- ⚡ 提供商切换即时响应
- ⚡ 配置保存 < 1秒
- ⚡ 表单验证实时反馈

---

**🎉 如果以上测试都通过，说明独立配置页面功能已成功实现！现在您拥有了一个功能完整、体验优秀的多提供商 AI 配置界面！**